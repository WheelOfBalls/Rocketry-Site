<!doctype html>
<html log="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>UTS Rocketry — University of Toronto Schools</title>
<meta name="description" content="UTS Rocketry is a team of innovators and engineers designing, building, and launching rockets at University of Toronto Schools.">
<style>
:root { --blue-600:#0a6cff; --blue-500:#1d7fff; --blue-300:#69bbff;
        --ink-900:#0e1824; --ink-700:#37475e; --ink-500:#6a7b94;
        --bg:#ffffff; --bg-elev:#f6f8fb; --radius:16px; }
@media (prefers-color-scheme: dark){
  :root{ --bg:#0b1119; --bg-elev:#0f1827; --ink-900:#e9f1ff; --ink-700:#c2d6fb; --ink-500:#9bb2db; }
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--ink-900);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
a{color:var(--blue-500);text-decoration:none}
a:hover{text-decoration:underline}
.container{max-width:1100px;margin:auto;padding:0 18px}
.hero{padding:56px 0 22px;background:radial-gradient(1200px 400px at 0% 0%, color-mix(in oklab,var(--blue-600) 14%, transparent), transparent) no-repeat;}
.hero-wrap{display:grid;grid-template-columns:1.15fr .85fr;gap:28px;align-items:center}
.brand{display:flex;align-items:center;gap:14px;margin-bottom:10px}
.brand img{height:58px}
h1{font-size:clamp(34px,5vw,56px);line-height:1.12;margin:0 0 12px;font-weight:900}
.lead{font-size:1.1rem;color:var(--ink-700)}
.btn{display:inline-block;padding:13px 18px;border-radius:12px;font-weight:800;border:1px solid transparent;transition:transform .2s ease, box-shadow .2s ease}
.btn.primary{background:var(--blue-600);color:#fff;box-shadow:0 10px 26px -12px var(--blue-600)}
.btn.primary:hover{transform:translateY(-2px);box-shadow:0 16px 34px -16px var(--blue-600)}
.btn.ghost{border-color:color-mix(in oklab,var(--ink-500) 40%, transparent);color:var(--ink-900);background:var(--bg)}
.cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px}
.card{background:var(--bg-elev);border:1px solid color-mix(in oklab,var(--ink-500) 18%, transparent);border-radius:var(--radius);padding:20px}
section{padding:42px 0}
h2{font-size:clamp(24px,3vw,36px);margin:0 0 8px;font-weight:900}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
.grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
@media (max-width:900px){ .hero-wrap, .grid-3, .grid-2 {grid-template-columns:1fr} }
ul.clean{list-style:none;padding:0;margin:0}
ul.clean li{margin:10px 0;padding-left:26px;position:relative}
ul.clean li:before{content:"✦";position:absolute;left:0;top:0;color:var(--blue-500)}
footer{padding:28px 0;border-top:1px solid color-mix(in oklab,var(--ink-500) 20%, transparent);font-size:.95rem;color:var(--ink-500)}
@keyframes float { 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }
@keyframes fadeUp { from{opacity:0; transform:translateY(14px)} to{opacity:1; transform:none} }
.logo-float{animation:float 5s ease-in-out infinite}
.reveal{opacity:0; transform:translateY(12px)}
.reveal.is-in{animation:fadeUp .6s ease forwards}
@media (prefers-reduced-motion: reduce){
  .logo-float, .reveal.is-in{animation:none !important;opacity:1;transform:none}
  .btn.primary:hover{transform:none}
}

.team-photo {
  width: 100%;
  max-width: 520px;
  border-radius: 18px;
  box-shadow: 0 8px 32px -12px var(--blue-600);
  margin-bottom: 22px;
  object-fit: cover;
  display: block;
  margin-left: auto;
  margin-right: auto;
}
/* Floating action button (bottom-right) */
/* Main action button animation */
.fab {
  position: fixed;
  right: 20px;
  bottom: 20px;
  background: var(--blue-600);
  color: #fff;
  border: none;
  border-radius: 999px;
  padding: 14px 18px;
  font-weight: 800;
  box-shadow: 0 12px 28px -14px var(--blue-600);
  cursor: pointer;
  z-index: 9999;
  transition: transform 0.18s cubic-bezier(.4,1.4,.6,1.0), filter 0.18s;
}
.fab:hover {
  filter: brightness(1.05);
  transform: scale(1.12);
}

.btn, .calendar-btn {
  transition: transform 0.18s cubic-bezier(.4,1.4,.6,1.0), box-shadow 0.18s;
}
.btn:hover {
  transform: scale(1.08);
  box-shadow: 0 16px 34px -16px var(--blue-600);
}
.calendar-btn {
  display: inline-block;
  background: var(--blue-600);
  color: #fff;
  border: none;
  border-radius: 12px;
  padding: 8px 16px;
  font-weight: 700;
  font-size: 0.98em;
  margin-top: 0.5em;
  box-shadow: 0 6px 18px -8px var(--blue-600);
  cursor: pointer;
  text-decoration: none;
  transition: transform 0.18s cubic-bezier(.4,1.4,.6,1.0), box-shadow 0.18s;
}
.calendar-btn:hover {
  transform: scale(1.09);
  box-shadow: 0 12px 28px -14px var(--blue-600);
}
</style>
</head>
<body>
<section class="hero" id="main-hero">
  <div class="container hero-wrap">
    <div>
      <div class="brand">
        <img src="assets/RocketryLogoLight.png" alt="UTS Rocketry Logo" style="height:58px;vertical-align:middle;">
        <strong>UTS Rocketry — University of Toronto Schools</strong>
      </div>
      <h1>Our Purpose</h1>
      <p class="lead">UTS Rocketry is a team of innovators and engineers. Our mission is to push the limits of student engineering by designing and launching rockets that bring real-world aerospace experience to UTS.</p>
      <div class="cta">
        <a class="btn primary" href="https://forms.gle/ZLsutHSr3SwCMDv49" target="_blank" rel="noopener">Join UTS Rocketry</a>
        <a class="btn ghost" role="button" style="text-decoration:underline;margin-left:8px;" href="#announcements">Announcements</a>
      </div>
    </div>
    <div class="card" role="img" aria-label="UTS Rocketry mark">
      <img src="assets/RocketryLogoLight.png" alt="UTS Rocketry Logo" class="logo-float" style="height:320px;display:block;margin:auto;">
    </div>
  </div>
</section>

<!-- Members Portal Section (hidden by default) -->
<section class="hero" id="members-hero" style="display:none;">
  <div class="container hero-wrap">
    <div>
      <div class="brand">
        <img src="assets/RocketryLogoLight.png" alt="UTS Rocketry Logo" style="height:58px;vertical-align:middle;">
        <span style="font-size:2.1rem;font-weight:900;vertical-align:middle;">UTS Rocketry</span>
      </div>
      <h1 style="font-size:clamp(34px,5vw,56px);line-height:1.12;margin:0 0 12px;font-weight:900">Members Portal</h1>
      <p class="lead">Welcome to the UTS Rocketry members portal. Access exclusive announcements and resources for team members.</p>
    </div>
    <div class="card" role="img" aria-label="UTS Rocketry Rocket Photo">
      <img src="assets/RocketLaunching.png" alt="UTS Rocketry Rocket Photo" class="team-photo" style="margin-left:auto;margin-right:auto;display:block;">
    </div>
  </div>
</section>

<section id="members-announcements-section" style="display:none;">
  <div class="container">
    <div class="card" style="margin-top:18px">
      <h2>Members Announcements</h2>
      <ul class="clean" id="members-announcements"></ul>
    </div>
  </div>
</section>

<section id="members-calendar-section" style="display:none;padding-top:0;">
  <div class="container">
    <div id="calendar" class="card" style="flex:1 1 350px;min-width:300px;">
      <h2>Calendar</h2>
      <iframe src="https://calendar.google.com/calendar/embed?src=c_afa571590d45f8b7148ae069df7cc04c6e04460a0d4b8ba48afbbb7ca5e38710%40group.calendar.google.com&ctz=America/Toronto&mode=week" style="border:0;width:100%;height:350px;" frameborder="0" scrolling="no"></iframe>
      <div style="margin-top:0.5em;">
  <a href="https://calendar.google.com/calendar/u/0?cid=Y19hZmE1NzE1OTBkNDVmOGI3MTQ4YWUwNjlkZjdjYzA0YzZlMDQ0NjBhMGQ0YjhiYTQ4YWZiYmI3Y2E1ZTM4NzEwQGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20" target="_blank" rel="noopener" class="calendar-btn">Subscribe to Calendar</a>
      </div>
    </div>
  </div>
</section>

<section id="members-contact-section" style="display:none;">
  <div class="container grid-2">
    <div class="card reveal" style="grid-column: span 2;">
      <h2 style="text-align:center;">Meet the Team</h2>
      <div style="max-width:520px;width:100%;margin:auto;">
        <img src="assets/ExecsPhoto.jpeg" alt="UTS Rocketry Team Photo" class="team-photo">
        <p><strong>Execs:</strong> <a href="mailto:zhajoh@utschools.ca">Johnathan Zhang</a> · <a href="mailto:lunoi@utschools.ca">Oisin Lundon</a> · <a href="mailto:llma@utschools.ca">Mattias Libesman‑Lee</a></p>
        <p><strong>Staff Supervisor:</strong> <a href="mailto:thomas.nachshen@utschools.ca">Mr. Nachshen</a></p>
      </div>
    </div>
  </div>
</section>

<section id="project">
  <div class="container grid-2">
    <div class="card reveal">
      <h2>Our Project</h2>
      <p>We are 3D printing and assembling a custom-built rocket from scratch. By combining CAD design, simulation software, and hands-on construction, we’re preparing for a full-scale launch this year.</p>
      <h3>Rocketry at UTS demonstrates:</h3>
      <ul class="clean">
        <li>Turning ideas into flying machines</li>
        <li>Applying classroom science in real projects</li>
        <li>Getting hands-on experience in aerospace and engineering</li>
        <li>Joining a tradition of students who build, test, and fly rockets</li>
      </ul>
    </div>
    <div class="card reveal">
      <h2>Why Join?</h2>
      <ul class="clean">
        <li>Be part of one of UTS’s most advanced STEM clubs</li>
        <li>Learn practical skills that go beyond the classroom</li>
        <li>Gain hands-on experience with aerospace tools</li>
        <li>Build leadership and teamwork skills</li>
        <li>Have fun working on real rocket launches</li>
      </ul>
      <div class="cta" style="margin-top:6px">
      </div>
    </div>
  </div>
</section>

<section id="skills">
  <div class="container grid-3">
    <div class="card reveal">
      <h2>Skills You’ll Learn</h2>
      <ul class="clean">
        <li>CAD (Computer-Aided Design)</li>
        <li>3D Printing & Rapid Prototyping</li>
        <li>Flight Simulation & Aerodynamics</li>
        <li>Structural Design & Materials Science</li>
        <li>Launch Operations & Safety Protocols</li>
      </ul>
    </div>
    <div class="card reveal">
      <h2>What We Do</h2>
      <ul class="clean">
        <li>Design rockets with CAD software</li>
        <li>Simulate flights with OpenRocket</li>
        <li>3D print and assemble rocket parts</li>
        <li>Perform launch-day operations</li>
        <li>Collect and analyze flight data</li>
        <li>Train members in safety and teamwork</li>
      </ul>
    </div>
    <div class="card reveal">
      <h2>Fun Facts</h2>
      <ul class="clean">
        <li>To escape Earth’s gravity you need about 11 km/s (≈40,000 km/h).</li>
        <li>The Saturn V stood taller than a 36‑storey building.</li>
        <li>Rockets work in space because of Newton’s Third Law—they don’t need air to push on.</li>
      </ul>
    </div>
  </div>
</section>

<!-- Announcements & Calendar Section -->
<section id="announcements-calendar" style="padding-bottom:0;">
  <div class="container" style="display:flex;gap:2rem;flex-wrap:wrap;align-items:flex-start;">
    <!-- Announcements Section -->
    <div id="announcements" class="card reveal" style="flex:1 1 350px;min-width:300px;">
      <h2>Announcements</h2>
      <!-- To add, edit, or remove announcements, simply update the list below -->
      <ul class="clean" id="announcements-list"></ul>
    </div>
    <!-- Calendar Section -->
    <div id="calendar" class="card reveal" style="flex:1 1 350px;min-width:300px;">
  <h2>Calendar</h2>
  <iframe src="https://calendar.google.com/calendar/embed?src=c_afa571590d45f8b7148ae069df7cc04c6e04460a0d4b8ba48afbbb7ca5e38710%40group.calendar.google.com&ctz=America/Toronto&mode=week" style="border:0;width:100%;height:350px;" frameborder="0" scrolling="no"></iframe>
      <div style="margin-top:0.5em;">
  <a href="https://calendar.google.com/calendar/u/0?cid=Y19hZmE1NzE1OTBkNDVmOGI3MTQ4YWUwNjlkZjdjYzA0YzZlMDQ0NjBhMGQ0YjhiYTQ4YWZiYmI3Y2E1ZTM4NzEwQGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20" target="_blank" rel="noopener" class="calendar-btn">Subscribe to Calendar</a>
      </div>
    </div>
  </div>
</section>

<section id="contact">
  <div class="container grid-2">
    <div class="card reveal" style="grid-column: span 2;">
      <h2 style="text-align:center;">Meet the Team</h2>
      <img src="assets/ExecsPhoto.jpeg" alt="UTS Rocketry Team Photo" class="team-photo">
      <div style="max-width:520px;width:100%;margin:auto;">
  <p><strong>Execs:</strong> <a href="mailto:zhajoh@utschools.ca">Johnathan Zhang</a> · <a href="mailto:lunoi@utschools.ca">Oisin Lundon</a> · <a href="mailto:llma@utschools.ca">Mattias Libesman‑Lee</a></p>
  <p><strong>Staff Supervisor:</strong> <a href="mailto:thomas.nachshen@utschools.ca">Mr. Nachshen</a></p>
      </div>
    </div>
  </div>
</section>

<footer><div class="container">© 2025 UTS Rocketry · University of Toronto Schools</div></footer>
</footer>


<button class="fab" id="members-btn" aria-label="Open members portal">Members Portal</button>
<button class="fab" id="back-btn" aria-label="Back to main page" style="display:none;">Back to Site</button>

<!-- Password Modal -->
<div id="password-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(14,24,36,0.32);z-index:99999;align-items:center;justify-content:center;">
  <div style="background:var(--bg-elev);border-radius:18px;box-shadow:0 8px 32px -12px var(--blue-600);padding:32px 28px;max-width:340px;width:90%;margin:auto;text-align:center;">
    <h2 style="margin-top:0;margin-bottom:18px;">Members Portal</h2>
    <p style="margin-bottom:18px;">Enter members password:</p>
    <input id="password-input" type="password" style="width:90%;padding:10px 12px;border-radius:8px;border:1px solid var(--ink-500);font-size:1.1em;" autocomplete="off">
    <div style="margin-top:18px;">
      <button id="password-submit" class="btn primary" style="width:100%;">Enter</button>
      <div id="password-error" style="color:#d00;font-size:0.98em;margin-top:10px;display:none;">Incorrect password. Try again.</div>
    </div>
  </div>
</div>

<script>
for (const a of document.querySelectorAll('a[href^="#"]')){
  a.addEventListener('click', e => {
    const id=a.getAttribute('href').slice(1);
    const el=document.getElementById(id);
    if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth', block:'start'}); }
  })
}
const io = new IntersectionObserver((entries)=>{entries.forEach(en=>{ if(en.isIntersecting) en.target.classList.add('is-in'); })}, {threshold:.2});
document.querySelectorAll('.reveal').forEach(el=> io.observe(el));

// Show/hide main and members portal sections
function showMainPage() {
  document.getElementById('main-hero').style.display = '';
  document.getElementById('project').style.display = '';
  document.getElementById('skills').style.display = '';
  document.getElementById('announcements-calendar').style.display = '';
  document.getElementById('contact').style.display = '';
  document.getElementById('members-hero').style.display = 'none';
  document.getElementById('members-announcements-section').style.display = 'none';
  document.getElementById('members-calendar-section').style.display = 'none';
  document.getElementById('members-contact-section').style.display = 'none';
  document.getElementById('members-btn').style.display = '';
  document.getElementById('back-btn').style.display = 'none';
}
function showMembersPortal() {
  document.getElementById('main-hero').style.display = 'none';
  document.getElementById('project').style.display = 'none';
  document.getElementById('skills').style.display = 'none';
  document.getElementById('announcements-calendar').style.display = 'none';
  document.getElementById('contact').style.display = 'none';
  document.getElementById('members-hero').style.display = '';
  document.getElementById('members-announcements-section').style.display = '';
  document.getElementById('members-calendar-section').style.display = '';
  document.getElementById('members-contact-section').style.display = '';
  document.getElementById('members-btn').style.display = 'none';
  document.getElementById('back-btn').style.display = '';
}

// Password gating for members portal (custom modal, works in Google Sites embeds)
let membersAuthenticated = false;
const PASS = 'BlastOFF';
const modal = document.getElementById('password-modal');
const input = document.getElementById('password-input');
const submit = document.getElementById('password-submit');
const errorMsg = document.getElementById('password-error');

function openPasswordModal() {
  modal.style.display = 'flex';
  input.value = '';
  errorMsg.style.display = 'none';
  setTimeout(() => { input.focus(); }, 100);
}
function closePasswordModal() {
  modal.style.display = 'none';
}

document.getElementById('members-btn').addEventListener('click', () => {
  if (membersAuthenticated) {
    showMembersPortal();
    return;
  }
  openPasswordModal();
});

submit.addEventListener('click', () => {
  if (input.value === PASS) {
    membersAuthenticated = true;
    closePasswordModal();
    showMembersPortal();
  } else {
    errorMsg.style.display = 'block';
    input.value = '';
    input.focus();
  }
});
input.addEventListener('keydown', e => {
  if (e.key === 'Enter') submit.click();
});
modal.addEventListener('click', e => {
  if (e.target === modal) closePasswordModal();
});
document.getElementById('back-btn').addEventListener('click', () => {
  showMainPage();
});


// Helper: convert URLs in text to clickable links
function linkify(text) {
  // Simpler regex: match any http(s) URL
  const urlRegex = /(https?:\/\/[^\s]+)/g;
  return text.replace(urlRegex, url => `<a href="${url}" target="_blank" rel="noopener">${url}</a>`);
}

// Load public announcements for main page
fetch('announcments.txt')
  .then(r => r.ok ? r.text() : Promise.reject(new Error('Announcements not found')))
  .then(text => {
    const list = document.getElementById('announcements-list');
    const publicLines = text
      .split('\n')
      .map(l => l.trim())
      .filter(Boolean)
      .filter(l => !(l.startsWith('`') && l.endsWith('`')));
    list.innerHTML = publicLines.length
      ? publicLines.map(line => `<li>${linkify(line)}</li>`).join('')
      : '<li>No announcements</li>';
  })
  .catch(() => {
    const list = document.getElementById('announcements-list');
    if (list) list.innerHTML = '<li>No announcements right now</li>';
  });

// Load both public and member-only announcements for members portal
fetch('announcments.txt')
  .then(r => r.ok ? r.text() : Promise.reject(new Error('Announcements not found')))
  .then(text => {
    const list = document.getElementById('members-announcements');
    const lines = text.split('\n').map(l => l.trim()).filter(Boolean);
    const normalized = lines.map(l => {
      // If wrapped with backticks, treat as members-only and strip the backticks
      if (l.startsWith('`') && l.endsWith('`')) return l.slice(1, -1);
      return l;
    });
    list.innerHTML = normalized.length ? normalized.map(l => `<li>${linkify(l)}</li>`).join('') : '<li>No announcements right now</li>';
  })
  .catch(() => {
    const list = document.getElementById('members-announcements');
    if (list) list.innerHTML = '<li>No announcements</li>';
  });
</script>
</body>
</html>
